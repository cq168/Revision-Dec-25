2005

WITH STATA

* 1. Run the regression model
logit cat_oop_40 consumption female grupo_etario_cod bas1 bas2 bas3 secund superior ///
      N_Individuals senior_ratio junior_ratio rural semiurban Norte Centro Lisboa ///
      Algarve Azores Madeira unemployed_ratio employed_ratio retired_ratio incapacity_ratio

* 2. Get the Odds Ratios (for your relative risk reporting)
logistic

* 3. Get the AMEs with p-values (for your probability reporting)
margins, dydx(*)


2010
logistic cat_oop_40 consumption female grupo_etario_cod bas1 bas2 bas3 secund superior total_members Norte Centro Lisboa Algarve Azores Madeira semiurban rural senior_ratio junior_ratio employed_ratio unemployed_ratio retired_ratio incapacity_ratio

* 3. Get the AMEs with p-values (for your probability reporting)
margins, dydx(*)

2015

logistic cat_oop_40 consumption female Age_num bas1 bas2 bas3 secund superior total_members senior_ratio junior_ratio semiurban rural Norte Centro Lisboa Algarve Azores Madeira employed_ratio unemployed_ratio retired_ratio incapacity_ratio 

margins, dydx(*)

2022
logistic cat_oop_40 consumption female GrpEtario bas1 bas2 secund superior N_Individuals senior_ratio junior_ratio semiurban rural Norte Centro Lisboa Algarve Azores Madeira employed_ratio unemployed_ratio retired_ratio incapacity_ratio 

margins, dydx(*)




2005
xtile quintile = consumption, nq(5)

// Label them for clarity
label define q_lab 1 "Q1 (Lowest)" 2 "Q2" 3 "Q3" 4 "Q4" 5 "Q5 (Highest)"
label values quintile q_lab

forvalues i = 1/5 {
    display _newline(2) "===================================================="
    display "RESULTS FOR CONSUMPTION QUINTILE: `i'"
    display "===================================================="
    
    * Display Raw Coefficients
    display "--- [1] LOGIT COEFFICIENTS ---"
    logistic cat_oop_40 consumption female grupo_etario_cod bas1 bas2 bas3 secund superior N_Individuals senior_ratio junior_ratio rural semiurban Norte Centro Lisboa Algarve Azores Madeira unemployed_ratio employed_ratio retired_ratio incapacity_ratio if quintile == `i', coef
    
    * Display Odds Ratios
    display "--- [2] ODDS RATIOS ---"
    logistic cat_oop_40 consumption female grupo_etario_cod bas1 bas2 bas3 secund superior N_Individuals senior_ratio junior_ratio rural semiurban Norte Centro Lisboa Algarve Azores Madeira unemployed_ratio employed_ratio retired_ratio incapacity_ratio if quintile == `i'
    
    * Display Average Marginal Effects (AME)
    display "--- [3] MARGINAL EFFECTS ---"
    margins, dydx(*)
}

2010

xtile quintile = consumption, nq(5)

// Label them for clarity
label define q_lab 1 "Q1 (Lowest)" 2 "Q2" 3 "Q3" 4 "Q4" 5 "Q5 (Highest)"
label values quintile q_lab

forvalues i = 1/5 {
    display _newline(2) "===================================================="
    display "RESULTS FOR CONSUMPTION QUINTILE: `i'"
    display "===================================================="
    
    * Display Raw Coefficients
    display "--- [1] LOGIT COEFFICIENTS ---"
    logistic cat_oop_40 consumption female grupo_etario_cod bas1 bas2 bas3 superior secund N_Individuals senior_ratio junior_ratio rural semiurban Norte Centro Lisboa Algarve Azores Madeira employed_ratio unemployed_ratio incapacity_ratio retired_ratio if quintile == `i', coef
    
    * Display Odds Ratios
    display "--- [2] ODDS RATIOS ---"
    logistic cat_oop_40 consumption female grupo_etario_cod bas1 bas2 bas3 superior secund N_Individuals senior_ratio junior_ratio rural semiurban Norte Centro Lisboa Algarve Azores Madeira employed_ratio unemployed_ratio incapacity_ratio retired_ratio if quintile == `i'
    
    * Display Average Marginal Effects (AME)
    display "--- [3] MARGINAL EFFECTS ---"
    margins, dydx(*)
}

2015





